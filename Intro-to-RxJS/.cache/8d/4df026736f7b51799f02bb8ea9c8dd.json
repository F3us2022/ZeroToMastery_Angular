{"id":"../node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js","dependencies":[{"name":"W:\\Work\\ZeroToMastery_Angular\\Intro-to-RxJS\\node_modules\\rxjs\\dist\\esm5\\internal\\operators\\shareReplay.js.map","includedInParent":true,"mtime":1655261656608},{"name":"W:\\Work\\ZeroToMastery_Angular\\Intro-to-RxJS\\node_modules\\rxjs\\src\\internal\\operators\\shareReplay.ts","includedInParent":true,"mtime":1655261656738},{"name":"W:\\Work\\ZeroToMastery_Angular\\Intro-to-RxJS\\package.json","includedInParent":true,"mtime":1655261657032},{"name":"W:\\Work\\ZeroToMastery_Angular\\Intro-to-RxJS\\node_modules\\rxjs\\package.json","includedInParent":true,"mtime":1655261656714},{"name":"../ReplaySubject","loc":{"line":1,"column":30,"index":30},"parent":"W:\\Work\\ZeroToMastery_Angular\\Intro-to-RxJS\\node_modules\\rxjs\\dist\\esm5\\internal\\operators\\shareReplay.js","resolved":"W:\\Work\\ZeroToMastery_Angular\\Intro-to-RxJS\\node_modules\\rxjs\\dist\\esm5\\internal\\ReplaySubject.js"},{"name":"./share","loc":{"line":2,"column":22,"index":73},"parent":"W:\\Work\\ZeroToMastery_Angular\\Intro-to-RxJS\\node_modules\\rxjs\\dist\\esm5\\internal\\operators\\shareReplay.js","resolved":"W:\\Work\\ZeroToMastery_Angular\\Intro-to-RxJS\\node_modules\\rxjs\\dist\\esm5\\internal\\operators\\share.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shareReplay = shareReplay;\n\nvar _ReplaySubject = require(\"../ReplaySubject\");\n\nvar _share = require(\"./share\");\n\nfunction shareReplay(configOrBufferSize, windowTime, scheduler) {\n  var _a, _b, _c;\n\n  var bufferSize;\n  var refCount = false;\n\n  if (configOrBufferSize && typeof configOrBufferSize === 'object') {\n    _a = configOrBufferSize.bufferSize, bufferSize = _a === void 0 ? Infinity : _a, _b = configOrBufferSize.windowTime, windowTime = _b === void 0 ? Infinity : _b, _c = configOrBufferSize.refCount, refCount = _c === void 0 ? false : _c, scheduler = configOrBufferSize.scheduler;\n  } else {\n    bufferSize = configOrBufferSize !== null && configOrBufferSize !== void 0 ? configOrBufferSize : Infinity;\n  }\n\n  return (0, _share.share)({\n    connector: function () {\n      return new _ReplaySubject.ReplaySubject(bufferSize, windowTime, scheduler);\n    },\n    resetOnError: true,\n    resetOnComplete: false,\n    resetOnRefCountZero: refCount\n  });\n}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":8,"column":0}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":10,"column":0}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":154,"column":6},"generated":{"line":12,"column":0}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":154,"column":16},"generated":{"line":12,"column":9}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":154,"column":6},"generated":{"line":12,"column":20}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":155,"column":2},"generated":{"line":12,"column":21}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":154,"column":6},"generated":{"line":12,"column":39}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":156,"column":2},"generated":{"line":12,"column":41}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":154,"column":6},"generated":{"line":12,"column":51}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":157,"column":2},"generated":{"line":12,"column":53}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":154,"column":6},"generated":{"line":12,"column":62}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":157,"column":27},"generated":{"line":12,"column":64}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":159,"column":2},"generated":{"line":15,"column":2}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":159,"column":6},"generated":{"line":15,"column":6}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":159,"column":2},"generated":{"line":15,"column":16}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":160,"column":2},"generated":{"line":16,"column":2}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":160,"column":6},"generated":{"line":16,"column":6}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":160,"column":14},"generated":{"line":16,"column":14}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":160,"column":17},"generated":{"line":16,"column":17}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":160,"column":2},"generated":{"line":16,"column":22}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":161,"column":2},"generated":{"line":18,"column":2}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":161,"column":6},"generated":{"line":18,"column":6}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":161,"column":24},"generated":{"line":18,"column":24}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":161,"column":28},"generated":{"line":18,"column":28}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":161,"column":35},"generated":{"line":18,"column":35}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":161,"column":28},"generated":{"line":18,"column":53}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":161,"column":58},"generated":{"line":18,"column":58}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":161,"column":2},"generated":{"line":18,"column":66}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":161,"column":68},"generated":{"line":18,"column":68}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":7},"generated":{"line":19,"column":4}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":7},"generated":{"line":19,"column":6}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":85},"generated":{"line":19,"column":9}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":103},"generated":{"line":19,"column":27}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":103},"generated":{"line":19,"column":28}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":7},"generated":{"line":19,"column":38}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":7},"generated":{"line":19,"column":40}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":17},"generated":{"line":19,"column":50}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":17},"generated":{"line":19,"column":53}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":17},"generated":{"line":19,"column":55}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":17},"generated":{"line":19,"column":60}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":17},"generated":{"line":19,"column":65}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":17},"generated":{"line":19,"column":66}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":20},"generated":{"line":19,"column":69}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":17},"generated":{"line":19,"column":77}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":28},"generated":{"line":19,"column":80}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":7},"generated":{"line":19,"column":82}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":30},"generated":{"line":19,"column":84}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":30},"generated":{"line":19,"column":86}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":85},"generated":{"line":19,"column":89}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":103},"generated":{"line":19,"column":107}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":103},"generated":{"line":19,"column":108}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":7},"generated":{"line":19,"column":118}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":30},"generated":{"line":19,"column":120}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":40},"generated":{"line":19,"column":130}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":40},"generated":{"line":19,"column":133}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":40},"generated":{"line":19,"column":135}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":40},"generated":{"line":19,"column":140}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":40},"generated":{"line":19,"column":145}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":40},"generated":{"line":19,"column":146}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":43},"generated":{"line":19,"column":149}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":40},"generated":{"line":19,"column":157}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":51},"generated":{"line":19,"column":160}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":7},"generated":{"line":19,"column":162}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":53},"generated":{"line":19,"column":164}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":53},"generated":{"line":19,"column":166}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":85},"generated":{"line":19,"column":169}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":103},"generated":{"line":19,"column":187}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":103},"generated":{"line":19,"column":188}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":7},"generated":{"line":19,"column":196}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":53},"generated":{"line":19,"column":198}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":61},"generated":{"line":19,"column":206}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":61},"generated":{"line":19,"column":209}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":61},"generated":{"line":19,"column":211}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":61},"generated":{"line":19,"column":216}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":61},"generated":{"line":19,"column":221}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":61},"generated":{"line":19,"column":222}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":64},"generated":{"line":19,"column":225}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":61},"generated":{"line":19,"column":230}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":69},"generated":{"line":19,"column":233}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":7},"generated":{"line":19,"column":235}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":71},"generated":{"line":19,"column":237}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":80},"generated":{"line":19,"column":246}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":85},"generated":{"line":19,"column":249}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":103},"generated":{"line":19,"column":267}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":103},"generated":{"line":19,"column":268}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":162,"column":4},"generated":{"line":19,"column":277}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":163,"column":3},"generated":{"line":20,"column":2}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":161,"column":2},"generated":{"line":20,"column":3}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":163,"column":9},"generated":{"line":20,"column":9}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":164,"column":4},"generated":{"line":21,"column":4}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":164,"column":14},"generated":{"line":21,"column":14}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":164,"column":17},"generated":{"line":21,"column":17}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":164,"column":35},"generated":{"line":21,"column":35}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":164,"column":35},"generated":{"line":21,"column":40}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":164,"column":17},"generated":{"line":21,"column":44}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":164,"column":17},"generated":{"line":21,"column":48}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":164,"column":35},"generated":{"line":21,"column":66}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":164,"column":35},"generated":{"line":21,"column":71}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":164,"column":35},"generated":{"line":21,"column":76}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":164,"column":17},"generated":{"line":21,"column":77}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":164,"column":17},"generated":{"line":21,"column":80}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":164,"column":17},"generated":{"line":21,"column":98}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":164,"column":39},"generated":{"line":21,"column":101}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":164,"column":4},"generated":{"line":21,"column":109}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":165,"column":3},"generated":{"line":22,"column":2}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":166,"column":2},"generated":{"line":24,"column":2}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":166,"column":9},"generated":{"line":24,"column":9}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":166,"column":9},"generated":{"line":24,"column":13}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":166,"column":9},"generated":{"line":24,"column":25}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":166,"column":18},"generated":{"line":24,"column":27}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":167,"column":4},"generated":{"line":25,"column":4}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":167,"column":13},"generated":{"line":25,"column":13}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":167,"column":15},"generated":{"line":25,"column":15}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":167,"column":15},"generated":{"line":25,"column":27}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":167,"column":21},"generated":{"line":26,"column":6}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":167,"column":21},"generated":{"line":26,"column":13}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":167,"column":25},"generated":{"line":26,"column":17}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":167,"column":21},"generated":{"line":26,"column":45}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":167,"column":39},"generated":{"line":26,"column":46}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":167,"column":21},"generated":{"line":26,"column":56}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":167,"column":51},"generated":{"line":26,"column":58}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":167,"column":21},"generated":{"line":26,"column":68}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":167,"column":63},"generated":{"line":26,"column":70}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":167,"column":21},"generated":{"line":26,"column":79}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":167,"column":21},"generated":{"line":26,"column":80}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":167,"column":73},"generated":{"line":27,"column":4}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":166,"column":18},"generated":{"line":27,"column":5}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":168,"column":4},"generated":{"line":28,"column":4}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":168,"column":16},"generated":{"line":28,"column":16}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":168,"column":18},"generated":{"line":28,"column":18}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":166,"column":18},"generated":{"line":28,"column":22}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":169,"column":4},"generated":{"line":29,"column":4}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":169,"column":19},"generated":{"line":29,"column":19}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":169,"column":21},"generated":{"line":29,"column":21}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":166,"column":18},"generated":{"line":29,"column":26}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":170,"column":4},"generated":{"line":30,"column":4}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":170,"column":23},"generated":{"line":30,"column":23}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":170,"column":25},"generated":{"line":30,"column":25}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":166,"column":18},"generated":{"line":31,"column":2}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":166,"column":9},"generated":{"line":31,"column":3}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":166,"column":2},"generated":{"line":31,"column":4}},{"source":"../../../../src/internal/operators/shareReplay.ts","name":null,"original":{"line":172,"column":1},"generated":{"line":32,"column":0}}],"sources":{"../../../../src/internal/operators/shareReplay.ts":"import { ReplaySubject } from '../ReplaySubject';\r\nimport { MonoTypeOperatorFunction, SchedulerLike } from '../types';\r\nimport { share } from './share';\r\n\r\nexport interface ShareReplayConfig {\r\n  bufferSize?: number;\r\n  windowTime?: number;\r\n  refCount: boolean;\r\n  scheduler?: SchedulerLike;\r\n}\r\n\r\nexport function shareReplay<T>(config: ShareReplayConfig): MonoTypeOperatorFunction<T>;\r\nexport function shareReplay<T>(bufferSize?: number, windowTime?: number, scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\r\n\r\n/**\r\n * Share source and replay specified number of emissions on subscription.\r\n *\r\n * This operator is a specialization of `replay` that connects to a source observable\r\n * and multicasts through a `ReplaySubject` constructed with the specified arguments.\r\n * A successfully completed source will stay cached in the `shareReplayed observable` forever,\r\n * but an errored source can be retried.\r\n *\r\n * ## Why use shareReplay?\r\n * You generally want to use `shareReplay` when you have side-effects or taxing computations\r\n * that you do not wish to be executed amongst multiple subscribers.\r\n * It may also be valuable in situations where you know you will have late subscribers to\r\n * a stream that need access to previously emitted values.\r\n * This ability to replay values on subscription is what differentiates {@link share} and `shareReplay`.\r\n *\r\n * ![](shareReplay.png)\r\n *\r\n * ## Reference counting\r\n * By default `shareReplay` will use `refCount` of false, meaning that it will _not_ unsubscribe the\r\n * source when the reference counter drops to zero, i.e. the inner `ReplaySubject` will _not_ be unsubscribed\r\n * (and potentially run for ever).\r\n * This is the default as it is expected that `shareReplay` is often used to keep around expensive to setup\r\n * observables which we want to keep running instead of having to do the expensive setup again.\r\n *\r\n * As of RXJS version 6.4.0 a new overload signature was added to allow for manual control over what\r\n * happens when the operators internal reference counter drops to zero.\r\n * If `refCount` is true, the source will be unsubscribed from once the reference count drops to zero, i.e.\r\n * the inner `ReplaySubject` will be unsubscribed. All new subscribers will receive value emissions from a\r\n * new `ReplaySubject` which in turn will cause a new subscription to the source observable.\r\n *\r\n * ## Examples\r\n *\r\n * Example with a third subscriber coming late to the party\r\n *\r\n * ```ts\r\n * import { interval, take, shareReplay } from 'rxjs';\r\n *\r\n * const shared$ = interval(2000).pipe(\r\n *   take(6),\r\n *   shareReplay(3)\r\n * );\r\n *\r\n * shared$.subscribe(x => console.log('sub A: ', x));\r\n * shared$.subscribe(y => console.log('sub B: ', y));\r\n *\r\n * setTimeout(() => {\r\n *   shared$.subscribe(y => console.log('sub C: ', y));\r\n * }, 11000);\r\n *\r\n * // Logs:\r\n * // (after ~2000 ms)\r\n * // sub A: 0\r\n * // sub B: 0\r\n * // (after ~4000 ms)\r\n * // sub A: 1\r\n * // sub B: 1\r\n * // (after ~6000 ms)\r\n * // sub A: 2\r\n * // sub B: 2\r\n * // (after ~8000 ms)\r\n * // sub A: 3\r\n * // sub B: 3\r\n * // (after ~10000 ms)\r\n * // sub A: 4\r\n * // sub B: 4\r\n * // (after ~11000 ms, sub C gets the last 3 values)\r\n * // sub C: 2\r\n * // sub C: 3\r\n * // sub C: 4\r\n * // (after ~12000 ms)\r\n * // sub A: 5\r\n * // sub B: 5\r\n * // sub C: 5\r\n * ```\r\n *\r\n * Example for `refCount` usage\r\n *\r\n * ```ts\r\n * import { Observable, tap, interval, shareReplay, take } from 'rxjs';\r\n *\r\n * const log = <T>(name: string, source: Observable<T>) => source.pipe(\r\n *   tap({\r\n *     subscribe: () => console.log(`${ name }: subscribed`),\r\n *     next: value => console.log(`${ name }: ${ value }`),\r\n *     complete: () => console.log(`${ name }: completed`),\r\n *     finalize: () => console.log(`${ name }: unsubscribed`)\r\n *   })\r\n * );\r\n *\r\n * const obs$ = log('source', interval(1000));\r\n *\r\n * const shared$ = log('shared', obs$.pipe(\r\n *   shareReplay({ bufferSize: 1, refCount: true }),\r\n *   take(2)\r\n * ));\r\n *\r\n * shared$.subscribe(x => console.log('sub A: ', x));\r\n * shared$.subscribe(y => console.log('sub B: ', y));\r\n *\r\n * // PRINTS:\r\n * // shared: subscribed <-- reference count = 1\r\n * // source: subscribed\r\n * // shared: subscribed <-- reference count = 2\r\n * // source: 0\r\n * // shared: 0\r\n * // sub A: 0\r\n * // shared: 0\r\n * // sub B: 0\r\n * // source: 1\r\n * // shared: 1\r\n * // sub A: 1\r\n * // shared: completed <-- take(2) completes the subscription for sub A\r\n * // shared: unsubscribed <-- reference count = 1\r\n * // shared: 1\r\n * // sub B: 1\r\n * // shared: completed <-- take(2) completes the subscription for sub B\r\n * // shared: unsubscribed <-- reference count = 0\r\n * // source: unsubscribed <-- replaySubject unsubscribes from source observable because the reference count dropped to 0 and refCount is true\r\n *\r\n * // In case of refCount being false, the unsubscribe is never called on the source and the source would keep on emitting, even if no subscribers\r\n * // are listening.\r\n * // source: 2\r\n * // source: 3\r\n * // source: 4\r\n * // ...\r\n * ```\r\n *\r\n * @see {@link publish}\r\n * @see {@link share}\r\n * @see {@link publishReplay}\r\n *\r\n * @param {Number} [bufferSize=Infinity] Maximum element count of the replay buffer.\r\n * @param {Number} [windowTime=Infinity] Maximum time length of the replay buffer in milliseconds.\r\n * @param {Scheduler} [scheduler] Scheduler where connected observers within the selector function\r\n * will be invoked on.\r\n * @return A function that returns an Observable sequence that contains the\r\n * elements of a sequence produced by multicasting the source sequence within a\r\n * selector function.\r\n */\r\nexport function shareReplay<T>(\r\n  configOrBufferSize?: ShareReplayConfig | number,\r\n  windowTime?: number,\r\n  scheduler?: SchedulerLike\r\n): MonoTypeOperatorFunction<T> {\r\n  let bufferSize: number;\r\n  let refCount = false;\r\n  if (configOrBufferSize && typeof configOrBufferSize === 'object') {\r\n    ({ bufferSize = Infinity, windowTime = Infinity, refCount = false, scheduler } = configOrBufferSize);\r\n  } else {\r\n    bufferSize = configOrBufferSize ?? Infinity;\r\n  }\r\n  return share<T>({\r\n    connector: () => new ReplaySubject(bufferSize, windowTime, scheduler),\r\n    resetOnError: true,\r\n    resetOnComplete: false,\r\n    resetOnRefCountZero: refCount,\r\n  });\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"b9da5821bc9e0a1eb4ac355b9038bcb2","cacheData":{"env":{}}}